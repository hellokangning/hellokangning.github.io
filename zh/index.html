<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Qing&#39;s Landing</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Guoqing Geng" /><meta name="description" content="Guoqing Geng&#39;s blog" /><meta name="keywords" content="elasticsearch, python, hbase, redis" />






<meta name="generator" content="Hugo 0.60.0 with theme even" />


<link rel="canonical" href="https://hellokangning.github.io/zh/" />
  <link href="https://hellokangning.github.io/zh/index.xml" rel="alternate" type="application/rss+xml" title="Qing&#39;s Landing" />
  <link href="https://hellokangning.github.io/zh/index.xml" rel="feed" type="application/rss+xml" title="Qing&#39;s Landing" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">


<link href="/dist/even.c2a46f00.min.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="Qing&#39;s Landing" />
<meta property="og:description" content="Guoqing Geng&#39;s blog" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://hellokangning.github.io/zh/" />
<meta property="og:updated_time" content="2019-11-27T20:12:20+08:00" />
<meta itemprop="name" content="Qing&#39;s Landing">
<meta itemprop="description" content="Guoqing Geng&#39;s blog"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Qing&#39;s Landing"/>
<meta name="twitter:description" content="Guoqing Geng&#39;s blog"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/zh/" class="logo">Qing&#39;s Landing</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/zh/">
        <li class="mobile-menu-item">首页</li>
      </a><a href="/zh/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/zh/categories/">
        <li class="mobile-menu-item">分类</li>
      </a><a href="/zh/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/en/">
        <li class="mobile-menu-item">EN</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/zh/" class="logo">Qing&#39;s Landing</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/zh/">首页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/zh/post/">归档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/zh/categories/">分类</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/zh/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/en/">EN</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <section id="posts" class="posts">
    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/linux-namespace-explained/">Linux Namespace Explained</a></h1>
    <div class="post-meta">
      <span class="post-time"> Nov 27, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/%E5%AE%B9%E5%99%A8/"> 容器 </a>
          </div>
        <span class="more-meta"> 约 2988 字 </span>
        <span class="more-meta"> 预计阅读 6 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>最近在做 Kubernetes Security 相关的工作。作为一个 Kubernetes 新手，刚看到 yaml 文件中的 namespace 时，很容易和 Linux 的 Namespace 搞混。加上在读 Kubernetes 文档的时候，总时不时看到 Linux Namespace 的字样就更加困惑起来。以此为契机，正好把 Linux Namespace 再好好梳理一下，解开心中的谜团：</p>
<ul>
<li>Linux 的 Namespace 是如何实现资源的隔离</li>
<li>Linux 下哪些资源可以按照 Namespace 组织，如何组织</li>
<li>Container 哪些地方用到了 Linux Namespace</li>
</ul>
    </div>
    <div class="read-more">
      <a href="/zh/post/linux-namespace-explained/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/this-is-professionalism/">这个就叫专业 🚬</a></h1>
    <div class="post-meta">
      <span class="post-time"> Sep 12, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/%E7%BC%96%E7%A8%8B/"> 编程 </a>
          </div>
        <span class="more-meta"> 约 5491 字 </span>
        <span class="more-meta"> 预计阅读 11 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <!-- raw HTML omitted -->
<p>最好的软件开发人员知道一个秘密：美的东西比丑的东西创建起来更廉价、也更快捷。美的系统是灵活、易于理解的，构建和维护它们就是一种快乐。</p>
<p>我们需要招聘的不是“经历丰富”的人，而是“有职素养”的人。并不是问题的难度，而是解决问题的方式、步骤以及反思的深度，更能体现一个人的职业素养。</p>
<p>如果只会快速编码，却不关心代码背后的意义，不能迅速判断、解决程序运行中的问题，不能自信满满地为自己交付的程序承担责任，同样是与职业素养绝缘。</p>
    </div>
    <div class="read-more">
      <a href="/zh/post/this-is-professionalism/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/python-threading/">Python Threading</a></h1>
    <div class="post-meta">
      <span class="post-time"> Aug 05, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/python/"> Python </a>
          </div>
        <span class="more-meta"> 约 2741 字 </span>
        <span class="more-meta"> 预计阅读 6 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>今天看了 <a href="https://book.douban.com/subject/3117898/">《Python源码剖析》</a> 中多线程的章节，看完头都秃了。但还是感觉自己没有吸收多少，知识一股脑倾泻下来，然后匆匆流过。在两个番茄钟的间隙，我全景思考了下，还是要从上往下入手，先将 threading 模块梳理清楚。其次是带着问题来阅读源码，跟着作者的思路容易迷，而问题最好是从 threading 的使用姿势中来。</p>
<p>来看廖雪峰老师<a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017629247922688">Python教程</a>中的例子：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">time</span><span class="o">,</span> <span class="nn">threading</span>

<span class="k">def</span> <span class="nf">loop</span><span class="p">(</span><span class="p">)</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">thread </span><span class="si">%s</span><span class="s1"> is running...</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">(</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">print</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">thread </span><span class="si">%s</span><span class="s1"> &gt;&gt;&gt; </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">(</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">thread </span><span class="si">%s</span><span class="s1"> ended.</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">(</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">thread </span><span class="si">%s</span><span class="s1"> is running...</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">(</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">loop</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">LoopThread</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">thread </span><span class="si">%s</span><span class="s1"> ended.</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">threading</span><span class="o">.</span><span class="n">current_thread</span><span class="p">(</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>看完这段代码，我的脑海中浮现了这几个问题：</p>
<ol>
<li><code>Thread</code> 是如何描述线程对象的？</li>
<li>启动线程的时候做了些啥，线程对象保存在哪里？</li>
<li>除了 <code>Thread</code>，threading 里还保存了写东西，否则 <code>threading.current_thread()</code> 怎么实现？</li>
</ol>
<p>除此之外，还有一些线程的常见问题，如：</p>
<ol>
<li>threading 提供了哪些线程同步方式，锁？</li>
</ol>
    </div>
    <div class="read-more">
      <a href="/zh/post/python-threading/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/are-you-ok/">Are you ok - 分布式系统的租约和心跳</a></h1>
    <div class="post-meta">
      <span class="post-time"> Jul 24, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/"> 分布式系统 </a>
          </div>
        <span class="more-meta"> 约 913 字 </span>
        <span class="more-meta"> 预计阅读 2 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>故障检测主要有两种机制：心跳和租约。</p>
<ul>
<li>心跳：假设总控机 A 需要确认工作机 B 是否发生故障，那么总控机 A 每隔一段时间，比如 1 秒，向工作机 B 发送一个心跳包。</li>
<li>租约：租约在一定期限内给予持有者特定权力的协议。</li>
</ul>
<p>租约的协议决定了其用途，它能做的事情远不止故障检测。</p>
<ol>
<li>如果协议内容是服务器确认客户端还存活，那么这个租约的功能就相当于<em>心跳</em>；</li>
<li>如果协议内容是服务器保证内容不会被修改，那么这个 租约就相当于<em>读锁</em>；</li>
<li>如果协议内容是服务器保证内容只能被这个客户端修改，那么这个租约就相当于<em>写锁</em>。</li>
</ol>
<p>那么在判断客户端是否存活的问题上，心跳和租约有什么区别呢？</p>
    </div>
    <div class="read-more">
      <a href="/zh/post/are-you-ok/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/redis-cmd-population-execution/">Redis 启动流程：命令注册和执行</a></h1>
    <div class="post-meta">
      <span class="post-time"> Apr 03, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/redis/"> Redis </a>
          </div>
        <span class="more-meta"> 约 1599 字 </span>
        <span class="more-meta"> 预计阅读 4 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>这篇博客想讲一下 Redis 命令的注册、解析和执行。</p>
<blockquote>
<p>本文采用的源码是 Redis 5.0.0</p>
</blockquote>
    </div>
    <div class="read-more">
      <a href="/zh/post/redis-cmd-population-execution/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/best-practices-for-reading-from-angel-philosopher/">Naval Ravikant 有关读书的最佳实践</a></h1>
    <div class="post-meta">
      <span class="post-time"> Mar 19, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/%E9%9A%8F%E7%AC%94/"> 随笔 </a>
          </div>
        <span class="more-meta"> 约 1049 字 </span>
        <span class="more-meta"> 预计阅读 3 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p><a href="https://fs.blog/naval-ravikant/">The Angel Philosopher</a> 这个播客，我起码听了 20 遍。但每次打开 Podcast，都忍不住再听一次。从读书、习惯、决策，到认知，Naval 给出了自己的真知灼见。每次听都有新收获，正如他所言的，反复读几本书，而不是仅仅看很多书。</p>
<p>Naval 的简介用一句话就可以：</p>
<blockquote>
<p>Naval is the CEO and co-founder of AngelList. He's invested in more than 100 companies, including Uber, Twitter, Yammer, and so many others.</p>
</blockquote>
    </div>
    <div class="read-more">
      <a href="/zh/post/best-practices-for-reading-from-angel-philosopher/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/lateral-thinking-notes/">水平思考笔记</a></h1>
    <div class="post-meta">
      <span class="post-time"> Mar 15, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/%E9%9A%8F%E7%AC%94/"> 随笔 </a>
          </div>
        <span class="more-meta"> 约 1781 字 </span>
        <span class="more-meta"> 预计阅读 4 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>这两天上了一堂水平思考课，所实话，比上班还累！但跟着老师的思路，加上及时的课堂练习，最后是收获满满。</p>
<p>课程之后总感觉要再巩固一下，遂成此文。</p>
    </div>
    <div class="read-more">
      <a href="/zh/post/lateral-thinking-notes/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/redisson-bloomfilter-impl/">Redisson 的布隆过滤器实现</a></h1>
    <div class="post-meta">
      <span class="post-time"> Mar 05, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/redis/"> Redis </a>
          </div>
        <span class="more-meta"> 约 760 字 </span>
        <span class="more-meta"> 预计阅读 2 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>之前看到一篇 <a href="https://zhouzhipeng.com/blog/#/articles/implementing-bloomfilter-with-redis">用 Redis 快速实现 BloomFilter</a> 就忍不住看看 Redisson 的 <a href="https://github.com/redisson/redisson/wiki/6.-%E5%88%86%E5%B8%83%E5%BC%8F%E5%AF%B9%E8%B1%A1#68-%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8bloom-filter">实现方式</a></p>
    </div>
    <div class="read-more">
      <a href="/zh/post/redisson-bloomfilter-impl/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/redis-sentinel-automatic-failover/">Redis 哨兵：自动故障转移</a></h1>
    <div class="post-meta">
      <span class="post-time"> Feb 02, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/redis/"> Redis </a>
          </div>
        <span class="more-meta"> 约 2498 字 </span>
        <span class="more-meta"> 预计阅读 5 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>Redis 哨兵是 Redis 的高可用实现方案。本节首先会回顾主从复制模式下故障处理可能产生的问题，而后引出高可用的概念，最后重点分析 Redis 哨兵的基本架构、优势，以及是如何实现高可用的。</p>
<blockquote>
<p>本文大部分摘录自：<a href="https://book.douban.com/subject/26971561/">Redis开发与运维</a></p>
</blockquote>
    </div>
    <div class="read-more">
      <a href="/zh/post/redis-sentinel-automatic-failover/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/redis-sentinel-client-connection/">Redis 哨兵: 客户端连接</a></h1>
    <div class="post-meta">
      <span class="post-time"> Jan 29, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/redis/"> Redis </a>
          </div>
        <span class="more-meta"> 约 2263 字 </span>
        <span class="more-meta"> 预计阅读 5 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>Redis 的主从复制模式下，一旦主节点不可达，需要人工干预进行故障转移，无论对于 Redis 的使用方还是运维方都带来了极大不便。对应用方来说无法感知主节点的变化，可能会造成数据丢失或读错误，也可能会短暂的服务不可用。对于运维来说，整个故障转移需要人工介入，实时性和准确性都无法保障。</p>
<p>Redis Sentinel(哨兵) 就是为了解决这些问题而生的，它是 Redis 2.8 引入的高可用实现方案，包括故障发现、故障转移、配置中心、客户端通知等。</p>
<p>本文的关注点是哨兵下的客户端连接问题。</p>
<blockquote>
<p>本文大部分摘录自：<a href="https://book.douban.com/subject/26971561/">Redis开发与运维</a></p>
</blockquote>
    </div>
    <div class="read-more">
      <a href="/zh/post/redis-sentinel-client-connection/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/redis-full-sync-explained/">Redis 全量同步解析</a></h1>
    <div class="post-meta">
      <span class="post-time"> Jan 20, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/redis/"> Redis </a>
          </div>
        <span class="more-meta"> 约 2351 字 </span>
        <span class="more-meta"> 预计阅读 5 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>复制功能是高可用 Redis 的基础，同时也是 Redis 日常运维的常见问题。深刻理解复制的工作原理与使用姿势对我们的日常开发和运维都非常重要。</p>
<p>本文从同步的过程讲起，重点是全量同步的可能问题和运维方法。</p>
<blockquote>
<p>本文大部分摘录自：<a href="https://book.douban.com/subject/26971561/">Redis开发与运维</a></p>
</blockquote>
    </div>
    <div class="read-more">
      <a href="/zh/post/redis-full-sync-explained/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/redis-anomalous-latency-because-of-page-fault/">页错误引发的 Redis 延迟</a></h1>
    <div class="post-meta">
      <span class="post-time"> Jan 07, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/redis/"> Redis </a>
          </div>
        <span class="more-meta"> 约 582 字 </span>
        <span class="more-meta"> 预计阅读 2 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>继续每天的知心姐姐时间，这次客户邮件说，CPU 使用率飙升，同时 GET/LLEN 等命令，都要执行几十毫秒。看了一下慢日志，我去：</p>
<pre><code>Id:900909 When:(1/1/2019 6:16:15 PM) Duration:41564us Command:(Llen PRIVATE ARG)
Id:900908 When:(1/1/2019 6:16:14 PM) Duration:17041us Command:(get PRIVATE ARG)
Id:900907 When:(1/1/2019 6:16:14 PM) Duration:51032us Command:(get PRIVATE ARG)
Id:900906 When:(1/1/2019 6:16:12 PM) Duration:49292us Command:(get PRIVATE ARG)
Id:900905 When:(1/1/2019 6:16:11 PM) Duration:56329us Command:(Llen PRIVATE ARG)
Id:900904 When:(1/1/2019 6:16:10 PM) Duration:10562us Command:(get PRIVATE ARG)
Id:900903 When:(1/1/2019 6:16:10 PM) Duration:35680us Command:(get PRIVATE ARG)
Id:900902 When:(1/1/2019 6:16:10 PM) Duration:16367us Command:(get PRIVATE ARG)
Id:900901 When:(1/1/2019 6:16:10 PM) Duration:29851us Command:(Llen PRIVATE ARG)
Id:900900 When:(1/1/2019 6:16:08 PM) Duration:29050us Command:(get PRIVATE ARG)
</code></pre>
    </div>
    <div class="read-more">
      <a href="/zh/post/redis-anomalous-latency-because-of-page-fault/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/exceptions-thrown-by-jedis/">Jedis 的常见异常</a></h1>
    <div class="post-meta">
      <span class="post-time"> Jan 02, 2019 </span>
      <div class="post-category">
          <a href="/zh/categories/redis/"> Redis </a>
          </div>
        <span class="more-meta"> 约 953 字 </span>
        <span class="more-meta"> 预计阅读 2 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>最近在读的 <a href="https://book.douban.com/subject/26971561/">Redis开发与运维</a>，很好地总结了客户端的常见异常。这篇博客权且作为读书笔记。</p>
    </div>
    <div class="read-more">
      <a href="/zh/post/exceptions-thrown-by-jedis/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/redis-ssl/">Redis 的 SSL</a></h1>
    <div class="post-meta">
      <span class="post-time"> Dec 26, 2018 </span>
      <div class="post-category">
          <a href="/zh/categories/redis/"> Redis </a>
          </div>
        <span class="more-meta"> 约 1397 字 </span>
        <span class="more-meta"> 预计阅读 3 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>这篇博客的起源是一位内部用户询问，Azure Cache for Redis 有没有 <em>.pem</em> 或者 <em>.cem</em> 的证书，然后可以在客户端指定它：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">redis</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">StrictRedis</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">&lt;cache-name&gt;.redis.cache.windows.net</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">6380</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">your password here</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="n">ssl</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">ssl_ca_certs</span><span class="o">=</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">path to cert</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">print</span> <span class="p">(</span><span class="n">conn</span><span class="p">)</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">ping</span><span class="p">(</span><span class="p">)</span>
    <span class="k">print</span> <span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">Connected!</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
    <span class="k">print</span> <span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">Error:</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">ex</span><span class="p">)</span>
    <span class="nb">exit</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">Failed to connect, terminating.</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div>
    </div>
    <div class="read-more">
      <a href="/zh/post/redis-ssl/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/redis-as-an-lru-cache/">Redis 用作 LRU 缓存</a></h1>
    <div class="post-meta">
      <span class="post-time"> Dec 24, 2018 </span>
      <div class="post-category">
          <a href="/zh/categories/redis/"> Redis </a>
          </div>
        <span class="more-meta"> 约 1465 字 </span>
        <span class="more-meta"> 预计阅读 3 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>本文翻译自 <a href="https://redis.io/topics/lru-cache">Using Redis as an LRU Cache</a>。</p>
<p>Redis 作为缓存使用时，很容易在增加新数据时剔除旧数据。这也是 <em>memcached</em> 的默认行为。</p>
<p>LRU 只是其中的一种剔除方法。使用 Redis 作为 LRU 时，必须用到 <code>maxmemory</code> 参数来限制可用内存的大小。</p>
    </div>
    <div class="read-more">
      <a href="/zh/post/redis-as-an-lru-cache/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/100-server-load-because-of-redis-sync/">Redis 同步引发的系统过载</a></h1>
    <div class="post-meta">
      <span class="post-time"> Nov 28, 2018 </span>
      <div class="post-category">
          <a href="/zh/categories/redis/"> Redis </a>
          </div>
        <span class="more-meta"> 约 3104 字 </span>
        <span class="more-meta"> 预计阅读 7 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>今天一早，就有客户来报说机器负载 100%。从日志中看到的现象是，Slave 向 Master 请求部分同步，Master 却要求 Slave 做个全套：全量同步，因为 Slave 发过来的 replication ID 太老了。Slave 说好吧，整个全的，然后消费成功。接着，Slave 还想来个部分同步，上述的过程连续发生 3 次。Master 有点强买强卖的意思了，这样一来两边的 CPU 不干了，这不是加班嘛！二者之间的网络带宽也是突增，从下图可以看出：</p>
<p><img src="/images/redis-network-bandwidth-spiking.png" alt=""></p>
    </div>
    <div class="read-more">
      <a href="/zh/post/100-server-load-because-of-redis-sync/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/weekly-daily-goals/">每周/每日目标法</a></h1>
    <div class="post-meta">
      <span class="post-time"> Nov 01, 2018 </span>
      <div class="post-category">
          <a href="/zh/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"> 读书笔记 </a>
          </div>
        <span class="more-meta"> 约 1906 字 </span>
        <span class="more-meta"> 预计阅读 4 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>现代社会的工作方式和远古的狩猎时代颇为相似。首先，不管投入的时间有多少，只有取得具体劳动成果的人才能获得报酬。其次，工作都是集中而短暂的，一个好的算法设计通常只需几分钟，但创造的价值却远远超过几百小时的平凡工作。</p>
<p>但在许多人看来，高产出意味着必须朝九晚九马不停蹄地工作。这实质上是把“重复”看做工作的本质。Scott Young 提出的每周/每日目标的工作方法，完全以工作任务为标准，不管你几点下班都不是关键。核心的问题是，你到底取得了多少成果。</p>
<p>我执行这个方法已经3年多了，不管是在恣意慵懒的外企，还是在紧张忙碌的创业公司，这种方法都大大提高了我的产出。</p>
    </div>
    <div class="read-more">
      <a href="/zh/post/weekly-daily-goals/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/holitstic-learning/">整体式学习的道与术</a></h1>
    <div class="post-meta">
      <span class="post-time"> Oct 27, 2018 </span>
      <div class="post-category">
          <a href="/zh/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"> 读书笔记 </a>
          </div>
        <span class="more-meta"> 约 3484 字 </span>
        <span class="more-meta"> 预计阅读 7 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>Scott Young 的故事已经家喻户晓，他曾在一年内在麻省理工学院（MIT）学完了别人需要四年才能掌握的33门课程，成绩都是 A 或 A+。Scott 将自己的学习方法称之为 <em>整体式学习</em> （Holistic Learning），并总结出一本 <a href="https://book.douban.com/subject/25783654/">《如何高效学习》</a>。</p>
<p>这本书很早就出现在我的 TODO 列表中，直到最近才将它读完。放下书本之后，有点后悔没有早点读这本书。虽说书中的一些观点，已经被我用到自己的学习过程中，但大部分都是无意识的，不系统的。所以，效果也是时好时坏。</p>
<p>本文将书中的观点，结合自己的实践，整理出来。力图做到直观易懂，又结构清晰。</p>
    </div>
    <div class="read-more">
      <a href="/zh/post/holitstic-learning/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/tips-from-fluent-in-3-months/">《跟各国人都聊得来》中的方法总结</a></h1>
    <div class="post-meta">
      <span class="post-time"> Oct 25, 2018 </span>
      <div class="post-category">
          <a href="/zh/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"> 读书笔记 </a>
          </div>
        <span class="more-meta"> 约 2564 字 </span>
        <span class="more-meta"> 预计阅读 6 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>公开课 <a href="https://www.coursera.org/learn/learning-how-to-learn">Learning How to Learn</a> 中有一段采访 Benny Lewis 的短片，他从一个没有任何语言天赋的学渣，变身掌握12门语言的狂人。看完这段采访后，总感觉意犹未尽，很多观点掷地有声、深以为然。幸好片中推荐了他的书 <a href="https://book.douban.com/subject/26873699/">《跟各国人都聊得来》</a>，趁着空闲，就把这本书读了一遍。</p>
<p>虽说书中讲述的经历针对语言学习，但方法是通用的，同样适用于其他事物的学习。我将其中的几个重要观点和方法提炼出来，遂成本文。</p>
    </div>
    <div class="read-more">
      <a href="/zh/post/tips-from-fluent-in-3-months/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/zh/post/overcome-procrastination/">战胜拖延</a></h1>
    <div class="post-meta">
      <span class="post-time"> Jul 03, 2016 </span>
      <div class="post-category">
          <a href="/zh/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"> 读书笔记 </a>
          </div>
        <span class="more-meta"> 约 2170 字 </span>
        <span class="more-meta"> 预计阅读 5 分钟 </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>拖延是很多人头疼的问题，它把人从无聊的现实中短暂地解脱出来。但长期来看，这是一种自欺欺人，因为事情放在那里不会自己完成。拖延反而可能浪费了做事的最好时机，贻害无穷。</p>
<p>拖延的坏处可能没有人不知道。即便嘴上说不，但身体还是很诚实的。遇到不喜欢或者困难的事情，我们还是习惯为自己找一些听起来有道理实际荒谬的借口，然后心安理得地将事情抛之脑后。</p>
<p>解决拖延的问题，和解决其他科学问题没什么两样，都是要先了解它的成因和模式。举个例子，计算机世界里的死锁。明白了死锁形成的四个条件，只要任意破坏一个条件，死锁也就不成立了。</p>
    </div>
    <div class="read-more">
      <a href="/zh/post/overcome-procrastination/" class="read-more-link">阅读更多</a>
    </div>
  </div>
</article>

    </section>
  
  <nav class="pagination">
    
    <a class="next" href="/zh/page/2/">
        <span class="next-text">下一页</span>
        <i class="iconfont icon-right"></i>
      </a>
  </nav>
        </div>
        

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:hellokangning@hotmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://www.linkedin.com/in/guoqing-geng-9032b820/" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://github.com/hellokangning" class="iconfont icon-github" title="github"></a>
      <a href="https://www.douban.com/people/hellokangning/" class="iconfont icon-douban" title="douban"></a>
      <a href="https://www.instagram.com/hellokangning/" class="iconfont icon-instagram" title="instagram"></a>
  <a href="https://hellokangning.github.io/zh/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2016 - 
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Guoqing Geng</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>
<script type="text/javascript" src="/dist/even.26188efa.min.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-105833321-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







</body>
</html>
